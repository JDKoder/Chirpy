Go 1.25 is newer than what the course was written against, and between 1.22 → 1.23 → 1.24 → 1.25 they’ve made changes around the ServeMux and HTTP pattern handling. The course assumes the Go 1.22-style patterns like:

serverMux.HandleFunc("PUT /api/users", cfg.updateUser)

But in 1.25, the mux is stricter, and your PUT pattern likely isn’t being matched the way the tests expect, hence the 405.

To align with the lesson and avoid version-specific surprises, the safest fix is to fall back to the old “path-only” style and do method checking inside your handler.

Try this:

    Change the route registration to just use the path:

    serverMux.HandleFunc(API_USERS, cfg.updateUser)

(So both POST and PUT hit /api/users and are distinguished by method.)

Gate the method inside updateUser:

func (config *apiConfig) updateUser(w http.ResponseWriter, req *http.Request) {
    if req.Method != http.MethodPut {
        w.WriteHeader(http.StatusMethodNotAllowed)
        return
    }

    // ... your existing logic ...
}

Leave the POST registration as:

serverMux.HandleFunc(API_USERS, cfg.createUser)

    and inside that handler either:
        Check req.Method == http.MethodPost, or
        If you already do that elsewhere, keep it consistent.

This way:

    The mux only cares about the path /api/users.
    Your handler explicitly enforces PUT, avoiding 405s from mismatched patterns.

After making those changes, re-run your tests and, if you like, send a manual PUT /api/users to confirm it now hits updateUser (your log should show it).
